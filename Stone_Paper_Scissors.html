<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      Stone Paper Scissors
    </title>
    <style>
      body{
        background-color: rgb(25, 25, 25);
        color: white;
        font-family: Arial;
        font-weight: bold;

      }
      .move-button{
        background: transparent;
        border: 3px solid white;
        border-radius: 50%;
        height: 120px;
        width: 120px;
        margin-left: 10px;
        margin-bottom: 50px;
        
      }

      .move-icon{
        height: 50px;
      }

      .result{
        margin: 50px;
      }
      .score{
        margin: 50px;
      }

    </style>
    
  </head>
  <body>
    
      <h1>Stone Paper Scissors</h1>
        <button onclick="
          finalResult('rock');
        "class="move-button">
        <img src="rock-emoji.png" class="move-icon">
        </button>

        <button onclick="
          finalResult('paper');
        "class="move-button">
        <img src="paper-emoji.png" class="move-icon">
        </button>

        <button onclick="
          finalResult('scissors');
        "class="move-button">
        <img src="scissors-emoji.png" class="move-icon">
        </button>
      
      <h2 class="js-result" class="result"></h2>
      <p class="js-moves" class="result"></p>
      <p class="js-score" class="score result"></p>
      

      <button onclick=" 
      finalScore.wins = 0;
      finalScore.losses = 0;
      finalScore.ties = 0;
      localStorage.removeItem('score');
      updateScoreElement();
      ">Reset Score</button>

    <script>

      let finalScore = JSON.parse(localStorage.getItem('score'));

      if(!finalScore){
        finalScore = { 
          wins: 0,
          losses: 0,
          ties: 0
        };
      }

      updateScoreElement();
      

      function finalResult(yourMove){
        const randomNum = Math.random();
        let computerMove = '';
        if(randomNum >= 0 && randomNum <1/3){
          computerMove = 'rock';
        }else if(randomNum >= 1/3 && randomNum <2/3){
          computerMove = 'paper';
        }else if(randomNum >= 2/3 && randomNum < 1){
          computerMove = 'scissors';
        }
        //console.log(computerMove);
        let result = '';
        if(yourMove === 'rock'){
          if(computerMove === 'rock'){
            result = 'DRAW';
          }else if(computerMove === 'paper'){
            result = 'YOU LOSE';
          }else if(computerMove === 'scissors'){
            result = 'YOU WON';
          }
        }else if(yourMove === 'paper'){
           if(computerMove === 'rock'){
              result = 'YOU WON';
            }else if(computerMove === 'paper'){
              result = 'DRAW';
            }else if(computerMove === 'scissors'){
              result = 'YOU LOSE';
            }
        }else if(yourMove === 'scissors'){
           if(computerMove === 'rock'){
              result = 'YOU LOSE';
            }else if(computerMove === 'paper'){
              result = 'YOU WON';
            }else if(computerMove === 'scissors'){
              result = 'DRAW';
            }
        }
        if(result === 'YOU WON'){
          finalScore.wins += 1;
        }else if(result === 'YOU LOSE'){
          finalScore.losses += 1;
        }else if(result === 'DRAW'){
          finalScore.ties += 1;
        }

        localStorage.setItem('score',JSON.stringify(finalScore));

        updateScoreElement();

        document.querySelector('.js-result').innerHTML = result;

        document.querySelector('.js-moves').innerHTML = `you 
        <img src="${yourMove}-emoji.png" class="move-icon">
        <img src="${computerMove}-emoji.png" class="move-icon">
        computer`;

      }   

      function updateScoreElement(){
        document.querySelector('.js-score')
          .innerHTML = `Wins: ${finalScore.wins}, Losses: ${finalScore.losses}, Draw: ${finalScore.ties}`;
      }
      
    </script>

  </body>
</html>